---
layout: post
title: Layers in Software
three: three_layers.jpg
net: networking_layers.png
---

Developers use layering to break a complicated software system into multiple parts that can be understood and analyzed independently. For example, a progrmming language is layered upon the operating system calls, which themselves are layerd upon the CPU instructions and logic gates inside chips. In networking, FTP layers upon TCP which sits on IP. 

When designing a system with layers, each layer rests on a lower layer, which is unaware of the higher layer. The higher layer uses the services provided by the lower layer. Also, each layer hides its lower layers from the layers above. 

<a target="_blank" href="{{ site.images }}/{{ page.net }}">
  <img src="{{ site.images }}/{{ page.net }}" alt="Networking Layers">
</a>  
<div class="caption"><a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/network/windows-network-architecture-and-the-osi-model">Source</a></div>

**Benefits of Layering**

1. Make a single layer easy to understand and process, without worrying about the lower layers. For example, you can understand FTP without worrying about the underlying TCP/IP protocols. 
2. Replace the layers with alternatives that has the same interface, meaning they provide the same services. 
3. Minimizing the dependencies and coupling between the layers, which makes it easy for a layer to change its internal implementation without having to modify the layer that uses it.  
4. Allows standardization and multiple higher-level uses for a lower layer. 

It's difficult to decide what layers you should have and what function each layer should perform. It's easy to design a system where introducing a change in a layer cascades into all layers. Extra unnecessary layers might affect performance, if at each boundary you need to transfer the data from one format to another. 

In general, the typical way to organize most enterprise applications is the three-layered architecture. It contains the following layers. 

<a target="_blank" href="{{ site.images }}/{{ page.three }}">
  <img src="{{ site.images }}/{{ page.three }}" alt="Three-Layered Architecture">
</a>  

- Presentation layer contains the user interface, e.g. a command-line, rich client, or a web browser. Displays the information to the user and interprets the user's commands. 
- Domain layer contains the domain logic, which is the work that the application needs to do to solve the business problems. 
- Storage layer contains the database and other data sources that the business logic needs to fetch the data from. 